<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI小说创作平台 - 全新设计</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 极简顶部导航栏 -->
    <nav class="navbar-flat">
        <div class="nav-left">
            <div class="nav-logo">
                <i class="fas fa-feather-alt"></i>
            </div>
            <div class="nav-progress">
                <div class="progress-bg" style="width: 25%;"></div>
                <div class="progress-step active">脑洞</div>
                <div class="progress-step">大纲</div>
                <div class="progress-step">小说</div>
                <div class="progress-step">剧本</div>
            </div>
        </div>
        <div class="nav-right">
            <button class="nav-icon-btn" title="我的作品">
                <i class="fas fa-book"></i>
            </button>
            <button class="nav-icon-btn" title="历史记录">
                <i class="fas fa-history"></i>
            </button>
            <button class="nav-icon-btn" title="设置">
                <i class="fas fa-cog"></i>
            </button>
            <div class="nav-divider"></div>
            <button class="nav-user-mini">
                <img src="https://ui-avatars.com/api/?name=User&background=667eea&color=fff" alt="avatar">
            </button>
        </div>
    </nav>


    <!-- 主要内容区域 -->
    <main class="main-container">
        <!-- 左侧展示区 -->
        <div class="display-area">
            <!-- 脑洞展示区 -->
            <div class="content-container active" id="ideas-container">
                <div class="waterfall-grid">
                    <!-- 真实小说创意卡片 -->
                    <div class="idea-card" data-id="1">
                        <div class="card-header">
                            <span class="card-badge badge-fantasy">奇幻</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">我靠摸书穿越，反派大魔王竟是我暗恋的同事</h3>
                        <p class="card-content" contenteditable="false">
                            我叫林素素，是个平平无奇的图书管理员。一天整理古籍时，我不小心碰到了一本发光的书，然后就穿越了。更离谱的是，这个世界的大反派魔王，长得和我暗恋三年的同事一模一样！
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="2">
                        <div class="card-header">
                            <span class="card-badge badge-mystery">灵异</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">我在灵异直播间打工，老板是只猫</h3>
                        <p class="card-content" contenteditable="false">
                            失业的我接到一份奇怪的工作：在深夜直播探灵。更诡异的是，我的老板是一只会说话的黑猫，它自称是阴阳界的"中介"，专门处理人鬼纠纷。
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="3">
                        <div class="card-header">
                            <span class="card-badge badge-scifi">科幻</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">全民修仙时代，我却在种田</h3>
                        <p class="card-content" contenteditable="false">
                            2077年，灵气复苏，全民修仙。别人忙着修炼飞升，我却发现用科学方法种出来的灵植效果更好。当修士们还在抢夺天材地宝时，我已经开始批量生产了。
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="4">
                        <div class="card-header">
                            <span class="card-badge badge-romance">言情</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">离婚后，我成了前夫的甲方爸爸</h3>
                        <p class="card-content" contenteditable="false">
                            离婚三年后，我摇身一变成了投资公司总监。没想到前夫的创业公司来找投资，更没想到的是，他竟然不认识化了妆的我。这次，该轮到我来"调教"他了。
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="5">
                        <div class="card-header">
                            <span class="card-badge badge-thriller">悬疑</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">凌晨3点14分，不要看镜子</h3>
                        <p class="card-content" contenteditable="false">
                            搬进新公寓后，我发现了前租客留下的日记："凌晨3点14分，千万不要看镜子。"我以为这只是恶作剧，直到那天失眠的我，无意中瞥了一眼墙上的镜子...
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="6">
                        <div class="card-header">
                            <span class="card-badge badge-scifi">校园</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">学霸的秘密：我能看见考试答案</h3>
                        <p class="card-content" contenteditable="false">
                            高三那年，我意外获得了一个能力——能看见试卷上的正确答案。本以为从此走上人生巅峰，却发现这个能力背后隐藏着惊天秘密。每个答案的背后，都是一个人的命运...
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="7">
                        <div class="card-header">
                            <span class="card-badge badge-mystery">推理</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">死亡直播间的真相</h3>
                        <p class="card-content" contenteditable="false">
                            一个神秘的直播间，每晚准时开播。主播戴着面具，预言某人的死亡时间。可怕的是，预言从未失败过。直到有一天，下一个被预言的人，是我...
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="8">
                        <div class="card-header">
                            <span class="card-badge badge-fantasy">玄幻</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">我的系统是个戏精</h3>
                        <p class="card-content" contenteditable="false">
                            别人的系统：【宿主完成任务，奖励经验值1000】。我的系统：【哎呀呀，宿主大大，人家给你准备了一个超级无敌棒棒的任务呢~失败了也没关系啦，反正你已经失败习惯了对吧？嘻嘻~】
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>

                    <div class="idea-card" data-id="9">
                        <div class="card-header">
                            <span class="card-badge badge-romance">都市</span>
                            <div class="card-actions">
                                <button class="btn-edit" title="编辑">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="card-title" contenteditable="false">重生后，我拒绝了亿万富豪的求婚</h3>
                        <p class="card-content" contenteditable="false">
                            上辈子为了钱嫁给富豪，过得生不如死。重生回到22岁，富豪再次出现在我面前，手持999朵玫瑰单膝下跪。这一次，我微笑着说："不好意思，我要去搬砖了。"
                        </p>
                        <div class="card-footer">
                            <button class="btn-select">
                                <i class="fas fa-check"></i> 选择
                            </button>
                            <button class="btn-favorite">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="btn-save" style="display: none;">
                                <i class="fas fa-save"></i> 保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 大纲展示区 -->
            <div class="content-container" id="outline-container">
                <div class="outline-display">
                    <h2 class="section-title">
                        <i class="fas fa-list-alt"></i> 故事大纲
                    </h2>
                    <div class="outline-content">
                        <div class="outline-section">
                            <h3 class="outline-part">第一幕：起</h3>
                            <p>林素素是市图书馆的管理员，每天过着平淡的生活。她暗恋同事陈墨已经三年，但从未表白。一天整理古籍区时，她发现了一本发出微光的古书《山海异闻录》。</p>
                        </div>
                        <div class="outline-section">
                            <h3 class="outline-part">第二幕：承</h3>
                            <p>触碰古书的瞬间，林素素被吸入书中世界。她发现自己来到了一个玄幻世界，而这里的大魔王墨渊尊主，竟然长得和陈墨一模一样！更离谱的是，她获得了"摸物知心"的能力。</p>
                        </div>
                        <div class="outline-section">
                            <h3 class="outline-part">第三幕：转</h3>
                            <p>通过能力，林素素发现墨渊并非真正的反派，而是被迫扮演这个角色。她决定帮助他摆脱命运，却意外发现陈墨也被卷入这个世界，成为了正道联盟的领袖。</p>
                        </div>
                        <div class="outline-section">
                            <h3 class="outline-part">第四幕：合</h3>
                            <p>最终真相揭晓：这个世界是古书创造的试炼空间，目的是让有缘人认清真心。林素素通过试炼，不仅救赎了墨渊，更获得了与陈墨相识相知的机会。回到现实后，陈墨主动向她表白。</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 小说正文展示区 -->
            <div class="content-container" id="novel-container">
                <div class="novel-display">
                    <h2 class="section-title">
                        <i class="fas fa-book-open"></i> 小说正文
                    </h2>
                    <div class="novel-content">
                        <div class="chapter">
                            <h3 class="chapter-title">第一章 发光的古书</h3>
                            <div class="chapter-content">
                                <p>午后的阳光透过图书馆的玻璃窗，在古籍区洒下斑驳的光影。林素素推着小推车，准备整理今天新到的一批古书。</p>
                                <p>"素素，需要帮忙吗？"熟悉的声音从身后传来。</p>
                                <p>林素素的心跳瞬间加快，她深吸一口气，转过身，努力让自己的声音听起来平静："谢谢陈老师，我自己可以的。"</p>
                                <p>陈墨推了推眼镜，温和地笑了笑："那好，有需要随时叫我。"看着他离开的背影，林素素暗暗握紧了拳头。三年了，她还是没勇气说出那句话。</p>
                                <p>突然，推车最底层传来一阵微弱的光芒。林素素弯下腰，发现是一本看起来极其古老的线装书在发光。书脊上用篆书写着《山海异闻录》。</p>
                                <p>"奇怪，这本书是从哪来的？"她小心翼翼地拿起这本书，指尖刚触碰到书页，一阵强烈的眩晕感袭来……</p>
                            </div>
                        </div>
                        <div class="chapter">
                            <h3 class="chapter-title">第二章 魔王的城堡</h3>
                            <div class="chapter-content">
                                <p>当林素素再次睁开眼睛时，发现自己站在一座巨大的黑色城堡前。天空是诡异的紫红色，远处的山峰倒悬在空中。</p>
                                <p>"这是哪里？"她惊慌地环顾四周，却发现自己的衣服已经变成了一袭青色长裙，腰间还挂着一个精致的香囊。</p>
                                <p>"来者何人，竟敢擅闯魔域！"一个低沉的声音从城堡上方传来。</p>
                                <p>林素素抬头一看，差点惊呼出声。城墙上站着的黑袍男子，那张脸……竟然和陈墨一模一样！只是气质完全不同，陈墨温文尔雅，而这个人浑身散发着危险的气息。</p>
                            </div>
                        </div>
                    </div>
                    <div class="novel-footer">
                        <button class="btn-download">
                            <i class="fas fa-download"></i> 下载小说
                        </button>
                        <span class="word-count">字数：2,456</span>
                    </div>
                </div>
            </div>
            
            <!-- 互动剧本展示区 -->
            <div class="content-container" id="script-container">
                <div class="script-display">
                    <h2 class="section-title">
                        <i class="fas fa-film"></i> 互动剧本
                    </h2>
                    <div class="script-content">
                        <div class="scene">
                            <h3 class="scene-header">场景1：图书馆古籍区</h3>
                            <div class="scene-description">
                                【场景】下午，市图书馆古籍区，书架间光线柔和
                            </div>
                            <div class="dialogue">
                                <p class="character">林素素：</p>
                                <p class="line">（整理书籍，自言自语）这批古书真是稀奇，有些文字我都认不出来……</p>
                            </div>
                            <div class="dialogue">
                                <p class="character">陈墨：</p>
                                <p class="line">（温柔地）素素，需要帮忙吗？</p>
                            </div>
                            <div class="interactive-choice">
                                <p class="choice-prompt">【互动选择】林素素的反应：</p>
                                <div class="choices">
                                    <button class="choice-btn">A. 接受帮助，趁机多聊几句</button>
                                    <button class="choice-btn">B. 婉拒，继续独自工作</button>
                                    <button class="choice-btn">C. 请他帮忙看看发光的古书</button>
                                </div>
                            </div>
                        </div>
                        <div class="scene">
                            <h3 class="scene-header">场景2：魔域城堡前</h3>
                            <div class="scene-description">
                                【场景】异世界，黑色城堡前，天空呈现诡异的紫红色
                            </div>
                            <div class="dialogue">
                                <p class="character">墨渊尊主：</p>
                                <p class="line">（居高临下，声音冰冷）凡人，你是如何来到魔域的？</p>
                            </div>
                            <div class="interactive-choice">
                                <p class="choice-prompt">【互动选择】如何回应：</p>
                                <div class="choices">
                                    <button class="choice-btn">A. 说实话，解释穿越经过</button>
                                    <button class="choice-btn">B. 装傻充愣，假装失忆</button>
                                    <button class="choice-btn">C. 反问他为何长得像陈墨</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="script-footer">
                        <button class="btn-download">
                            <i class="fas fa-download"></i> 下载剧本
                        </button>
                        <button class="btn-preview">
                            <i class="fas fa-play"></i> 预览互动效果
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 工作流控制按钮区 -->
            <div class="workflow-controls">
                <div class="workflow-step" id="step-outline">
                    <div class="step-header">
                        <span class="step-number">2</span>
                        <span class="step-label">生成大纲</span>
                    </div>
                    <button class="btn-workflow" id="btn-generate-outline" disabled>
                        <i class="fas fa-list-alt"></i>
                        <span>创建故事大纲</span>
                    </button>
                    <p class="step-hint">选择一个创意后生成</p>
                </div>
                
                <div class="workflow-step" id="step-novel">
                    <div class="step-header">
                        <span class="step-number">3</span>
                        <span class="step-label">生成小说</span>
                    </div>
                    <button class="btn-workflow" id="btn-generate-novel" disabled>
                        <i class="fas fa-book-open"></i>
                        <span>创作小说正文</span>
                    </button>
                    <p class="step-hint">需要先生成大纲</p>
                </div>
                
                <div class="workflow-step" id="step-script">
                    <div class="step-header">
                        <span class="step-number">4</span>
                        <span class="step-label">生成剧本</span>
                    </div>
                    <button class="btn-workflow" id="btn-generate-script" disabled>
                        <i class="fas fa-film"></i>
                        <span>转换为互动剧本</span>
                    </button>
                    <p class="step-hint">需要先生成小说</p>
                </div>
            </div>
        </div>

        <!-- 右侧对话区 -->
        <div class="chat-area">
            <div class="chat-header">
                <div class="assistant-info">
                    <div class="assistant-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="assistant-details">
                        <h3>AI创作助手</h3>
                        <span class="status online">
                            <i class="fas fa-circle"></i> 在线
                        </span>
                    </div>
                </div>
                <button class="btn-clear-chat">
                    <i class="fas fa-broom"></i>
                </button>
            </div>

            <div class="chat-messages">
                <!-- 欢迎消息 -->
                <div class="message assistant">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-bubble">
                            嗨！我是你的AI创作助手 ✨<br>
                            让我们一起创作精彩的故事吧！你想写什么类型的小说呢？
                        </div>
                        <span class="message-time">10:30</span>
                    </div>
                </div>

                <!-- 用户消息示例 -->
                <div class="message user">
                    <div class="message-content">
                        <div class="message-bubble">
                            给我一些有趣的脑洞吧，最好是轻松搞笑的
                        </div>
                        <span class="message-time">10:31</span>
                    </div>
                </div>

                <!-- AI回复示例 -->
                <div class="message assistant">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-bubble">
                            收到！我为你准备了9个脑洞大开的创意 🎭<br><br>
                            从穿越、灵异到都市爱情，每个都有独特的反转和笑点。比如《我靠摸书穿越，反派大魔王竟是我暗恋的同事》，或者《我的系统是个戏精》，保证让你笑着写完整本书！<br><br>
                            选择你最喜欢的创意，我们就可以开始构建大纲了～
                        </div>
                        <span class="message-time">10:32</span>
                    </div>
                </div>

                <!-- 正在输入提示 -->
                <div class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <!-- 智能建议区 -->
            <div class="smart-suggestions">
                <div class="suggestions-row">
                    <span class="suggestions-label">
                        <i class="fas fa-wand-magic-sparkles"></i> 灵感工具
                    </span>
                    <div class="suggestion-chips">
                        <button class="suggestion-chip" data-action="more-ideas">
                            <i class="fas fa-plus-circle"></i> 换一批
                        </button>
                        <button class="suggestion-chip" data-action="hot-genre">
                            <i class="fas fa-compass"></i> 探索灵感
                        </button>
                        <button class="suggestion-chip" data-action="random">
                            <i class="fas fa-shuffle"></i> 随机推荐
                        </button>
                    </div>
                </div>
                <div class="suggestions-progress">
                    <span class="progress-text">已加载 <span class="ideas-count">9</span> 个创意</span>
                    <button class="btn-refresh-ideas" title="刷新创意">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>

            <!-- 输入区域 -->
            <div class="chat-input">
                <input type="text" placeholder="输入你的想法..." class="input-message">
                <button class="btn-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- 移动端浮动按钮 -->
    <button class="mobile-chat-toggle">
        <i class="fas fa-comments"></i>
    </button>

    <script src="demo.js"></script>
    <script src="multi-brain-hole-v3.js"></script>
    <script>
        // 初始化多脑洞功能V3 - 无缝整合版
        document.addEventListener('DOMContentLoaded', function() {
            // V3版本会自动初始化，无需手动调用
        });
    </script>
</body>
</html>